<!DOCTYPE>
<html>
<head>
    <title>*** NHN KCP API SAMPLE ***</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=yes, target-densitydpi=medium-dpi">  
    <link href="/public/static/css/style.css" rel="stylesheet" type="text/css" id="cssLink"/>
    <script type="text/javascript">
        /****************************************************************/
        /* m_Completepayment  설명                                      */
        /****************************************************************/
        /* 인증완료시 재귀 함수                                         */
        /* 해당 함수명은 절대 변경하면 안됩니다.                         */
        /* 해당 함수의 위치는 kcp_spay_hub.js 보다먼저 선언되어야 합니다. */
        /* Web 방식의 경우 리턴 값이 form 으로 넘어옴                    */
        /****************************************************************/
        function m_Completepayment( FormOrJson, closeEvent ) 
        {
            var frm = document.order_info; 
         
            /********************************************************************/
            /* FormOrJson은 가맹점 임의 활용 금지                               */
            /* frm 값에 FormOrJson 값이 설정 된 frm 값으로 활용 하셔야 됩니다.  */            
            /********************************************************************/
            GetField( frm, FormOrJson ); 

            /* 결제인증 완료 후 결제승인 요청을 위한 비즈니스 로직 구현 */
            if( frm.res_cd.value == "0000" )
            {    
                frm.submit(); 
            }
            /* 결제인증 실패에 대한 처리 */
            else
            {
                alert( "[" + frm.res_cd.value + "] " + frm.res_msg.value );
                closeEvent();
            }
        }
    </script>
    <!-- 
        결제창 호출 JS 
        개발 : https://testspay.kcp.co.kr/plugin/kcp_spay_hub.js  
        운영 : https://spay.kcp.co.kr/plugin/kcp_spay_hub.js  
    --> 
    <script type="text/javascript" src="https://testspay.kcp.co.kr/plugin/kcp_spay_hub.js"></script> 
    <script type="text/javascript">
        /* 표준웹 실행 */
        function jsf__pay( form )
        {
            try
            {
                KCP_Pay_Execute_Web( form );
            }
            catch (e)
            {
                /* IE 에서 결제 정상종료시 throw로 스크립트 종료 */ 
            }
        }
        // 주문번호 생성 예제
        function init_orderid()
        { 
            var today = new Date();
            var year  = today.getFullYear();
            var month = today.getMonth()+ 1;
            var date  = today.getDate();
            var time  = today.getTime();

            if(parseInt(month) < 10)
            {
                month = "0" + month;
            }

            var vOrderID = "TEST" + year + "" + month + "" + date + "" + time;

            document.forms[0].ordr_idxx.value = vOrderID;
        }          
    </script>
</head>
<body onload="init_orderid();">
    <form name="order_info" method="post" action="/kcp_api_pay">
        <div class="wrap">
            <!-- header -->
            <div class="header">
                <a href="/" class="btn-back"><span>뒤로가기</span></a>
                <h1 class="title">주문/결제 SAMPLE</h1>
            </div>
            <!-- //header -->
            <!-- contents -->
            <div id="skipCont" class="contents">
                <p class="txt-type-1">이 페이지는 결제를 요청하는 샘플 페이지입니다.</p>
                <p class="txt-type-2">소스 수정 시 [※ 필수] 또는 [※ 옵션] 표시가 포함된 문장은 가맹점의 상황에 맞게 적절히 수정 적용하시기 바랍니다.</p>
                <!-- 주문내역 -->
                <h2 class="title-type-3">주문내역</h2>
                <ul class="list-type-1">
                    <!-- 주문번호(ordr_idxx) -->
                    <li>
                        <div class="left"><p class="title">주문번호</p></div>
                        <div class="right">
                            <div class="ipt-type-1 pc-wd-2">
                                <input type="text" name="ordr_idxx" value="" maxlength="40" />
                            </div>
                        </div>
                    </li>
                    <!-- 상품명(good_name) -->
                    <li>
                        <div class="left"><p class="title">상품명</p></div>
                        <div class="right">
                            <div class="ipt-type-1 pc-wd-2">
                                <input type="text" name="good_name" value="운동화" />
                            </div>
                        </div>
                    </li>
                    <!-- 결제금액(good_mny) - ※ 필수 : 값 설정시 ,(콤마)를 제외한 숫자만 입력하여 주십시오. -->
                    <li>
                        <div class="left"><p class="title">결제금액</p></div>
                        <div class="right">
                            <div class="ipt-type-1 gap-2 pc-wd-2">
                                <input type="text" name="good_mny" value="1004" maxlength="9" />
                                <span class="txt-price">원</span>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="line-type-1"></div>
                <!-- 주문정보 -->
                <h2 class="title-type-3">주문정보</h2>
                <ul class="list-type-1">
                    <!-- 주문자명(buyr_name) -->
                    <li>
                        <div class="left"><p class="title">주문자명</p></div>
                        <div class="right">
                            <div class="ipt-type-1 pc-wd-2">
                                <input type="text" name="buyr_name" value="홍길동" />
                            </div>
                        </div>
                    </li>
                    <!-- 휴대폰번호(buyr_tel2) -->
                    <li>
                        <div class="left"><p class="title">휴대폰번호</p></div>
                        <div class="right">
                            <div class="ipt-type-1 pc-wd-2">
                                <input type="text" name="buyr_tel2" value="010-0000-0000" />
                            </div>
                        </div>
                    </li>
                    <!-- 주문자 E-mail(buyr_mail) -->
                    <li>
                        <div class="left"><p class="title">이메일</p></div>
                        <div class="right">
                            <div class="ipt-type-1 pc-wd-2">
                                <input type="text" name="buyr_mail" value="test@test.co.kr" />
                            </div>
                        </div>
                    </li>
                </ul> 
                <div class="line-type-1"></div>
                <!-- 
                    결제 수단 정보 설정 
                    
                    결제에 필요한 결제 수단 정보를 설정합니다.                               
																											  
					신용카드 : 100000000000, 계좌이체 : 010000000000, 가상계좌 : 001000000000,
					포인트 : 000100000000, 휴대폰 : 000010000000, 상품권 : 000000001000

                    ※ 필수
                     KCP에 신청된 결제수단으로만 결제가 가능합니다.        
                -->
                <h2 class="title-type-3">결제수단</h2>
                <ul class="list-check-1">
                    <li>
                        <input type="radio" id="radio-2-1" class="ipt-radio-1" name="pay_method" value="100000000000" checked />
                        <label for="radio-2-1"><span class="ico-radio"><span></span></span>신용카드</label>
                    </li>
                    <li>                       
                        <input type="radio" id="radio-2-2" class="ipt-radio-1" name="pay_method" value="010000000000" />
                        <label for="radio-2-2"><span class="ico-radio"><span></span></span>계좌이체</label>
                    </li>
                    <li>                       
                        <input type="radio" id="radio-2-3" class="ipt-radio-1" name="pay_method" value="001000000000" />
                        <label for="radio-2-3"><span class="ico-radio"><span></span></span>가상계좌</label>
                    </li>
                    <li>
                        <input type="radio" id="radio-2-4" class="ipt-radio-1" name="pay_method" value="000100000000" />
                        <label for="radio-2-4"><span class="ico-radio"><span></span></span>포인트</label>
                    </li>
                    <li>
                        <input type="radio" id="radio-2-5" class="ipt-radio-1" name="pay_method" value="000010000000" />
                        <label for="radio-2-5"><span class="ico-radio"><span></span></span>휴대폰</label>
                    </li>
                    <li>
                        <input type="radio" id="radio-2-6" class="ipt-radio-1" name="pay_method" value="000000001000" />
                        <label for="radio-2-6"><span class="ico-radio"><span></span></span>상품권</label>
                    </li>
                </ul>
                <div Class="Line-Type-1"></div>
                <ul class="list-btn-2">
                    <li><a href="#none" onclick="jsf__pay(document.order_info);" class="btn-type-2 pc-wd-3">결제요청</a></li>
                    <li class="pc-only-show"><a href="/" class="btn-type-3 pc-wd-2">처음으로</a></li>
                </ul>
            </div>
            <!-- //contents -->
    
            <div class="grid-footer">
                <div class="inner">
                    <!-- footer -->
                    <div class="footer">
                        ⓒ NHN KCP Corp.
                    </div>
                    <!-- //footer -->
                </div>
            </div>
            <!-- 가맹점 정보 설정-->
            <input type="hidden" name="site_cd"         value="T0000" />
            <input type="hidden" name="site_name"       value="TEST SITE" />
            <input type="hidden" name="pay_method"      value="" />
			<!-- 신용카드 설정 -->
            <input type="hidden" name="quotaopt"        value="12"/> <!-- 최대 할부개월수 -->
            <!-- 
                ※필수 항목
                결제인증 완료 후 결제창에서 값을 설정하는 부분으로 반드시 포함되어야 합니다. 
                임의로 값을 설정하지 마십시오.
            -->
            <input type="hidden" name="res_cd"          value=""/>
            <input type="hidden" name="res_msg"         value=""/>
            <input type="hidden" name="enc_info"        value=""/>
            <input type="hidden" name="enc_data"        value=""/>
            <input type="hidden" name="tran_cd"         value=""/>
        </div>
    </form>
</body>
</html>